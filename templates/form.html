<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RONIN GENERATOR PROTOCOL</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- CORE STYLE --- */
        body { 
            background: linear-gradient(to bottom, #0a0000, #1a0000, #0a0000); /* Gradasi merah gelap */
            color: #ffffff;      /* Teks Putih Terang */
            font-family: 'JetBrains Mono', 'Courier New', monospace; /* Font Tech Tebal */
            font-size: 16px;     /* Ukuran Font diperbesar */
            line-height: 1.6;
            padding: 40px; 
            margin: 0;
            position: relative;
            overflow-x: hidden;
            animation: bgPulse 8s ease-in-out infinite;
        }

        @keyframes bgPulse {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* Fire particles canvas */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
            background-image: 
                linear-gradient(rgba(255, 26, 26, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 26, 26, 0.1) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: fireGrid 4s linear infinite;
            opacity: 0.3;
        }

        @keyframes fireGrid {
            0%, 100% { 
                background-position: 0 0;
                opacity: 0.2;
            }
            50% { 
                background-position: 25px 25px;
                opacity: 0.4;
            }
        }

        /* --- CONTAINER UTAMA --- */
        .container { 
            max-width: 900px; 
            margin: 0 auto; 
            border: 2px solid #333; /* Border lebih tegas */
            padding: 40px; 
            background: #050505; /* Sedikit lebih terang dari body agar terpisah */
            box-shadow: 0 0 30px rgba(255, 51, 51, 0.1); /* Glow merah tipis */
        }

        /* --- TYPOGRAPHY --- */
        h1 { 
            color: #ff3333; /* Merah Neon */
            border-bottom: 2px solid #ff3333; 
            padding-bottom: 15px; 
            font-size: 2rem;
            letter-spacing: -1px;
            margin-top: 0;
            /* Efek neon glow */
            text-shadow: 
                0 0 10px rgba(255, 51, 51, 0.8),
                0 0 20px rgba(255, 51, 51, 0.6),
                0 0 30px rgba(255, 51, 51, 0.4),
                0 0 40px rgba(255, 51, 51, 0.2);
            animation: neonPulse 2s ease-in-out infinite;
        }

        @keyframes neonPulse {
            0%, 100% {
                text-shadow: 
                    0 0 10px rgba(255, 51, 51, 0.8),
                    0 0 20px rgba(255, 51, 51, 0.6),
                    0 0 30px rgba(255, 51, 51, 0.4);
            }
            50% {
                text-shadow: 
                    0 0 15px rgba(255, 51, 51, 1),
                    0 0 30px rgba(255, 51, 51, 0.8),
                    0 0 45px rgba(255, 51, 51, 0.6),
                    0 0 60px rgba(255, 51, 51, 0.4);
            }
        }
        
        h3 {
            color: #ff3333;
            margin-top: 0;
            border-left: 4px solid #ff3333;
            padding-left: 10px;
            font-size: 1.2rem;
            text-shadow: 0 0 10px rgba(255, 51, 51, 0.5);
        }

        /* --- FORM ELEMENTS --- */
        .form-group { margin-bottom: 25px; }
        
        label { 
            display: block; 
            color: #cccccc; /* Abu terang (bukan gelap) */
            margin-bottom: 8px; 
            font-weight: bold;
            font-size: 1rem;
        }
        
        input, textarea { 
            width: 100%; 
            background: #111111; 
            border: 1px solid #555; /* Border abu terang */
            color: #ffffff;         /* Teks input putih murni */
            padding: 15px;          /* Padding lebih lega */
            font-size: 1rem;
            font-family: inherit;
            box-sizing: border-box; 
            transition: all 0.3s;
            border-radius: 4px;
        }

        /* Efek saat diklik (Fokus) */
        input:focus, textarea:focus { 
            border-color: #ff3333; 
            background: #1a0505; /* Background agak kemerahan saat aktif */
            outline: none; 
            box-shadow: 0 0 10px rgba(255, 51, 51, 0.3);
        }
        
        textarea { height: 100px; resize: vertical; }

        /* --- LAYOUT GRID --- */
        .row { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        .grid-4 { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 15px; }

        /* --- BUTTON --- */
        button { 
            background: #ff3333; 
            color: #000; 
            font-weight: 800; 
            border: none; 
            padding: 20px 30px; 
            cursor: pointer; 
            width: 100%; 
            font-size: 1.2rem; 
            margin-top: 30px; 
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: 0.3s;
            box-shadow: 
                0 0 10px rgba(255, 51, 51, 0.5),
                0 0 20px rgba(255, 51, 51, 0.3);
        }
        
        button:hover { 
            background: #ff0000; 
            box-shadow: 
                0 0 20px rgba(255, 51, 51, 0.8), 
                0 0 40px rgba(255, 51, 51, 0.6),
                0 0 60px rgba(255, 51, 51, 0.4);
            transform: scale(1.02);
        }
        
        button:hover { 
            background: #fff; 
            box-shadow: 0 0 20px #fff;
        }

        /* --- SEPARATOR --- */
        hr { border: 0; border-top: 1px solid #333; margin: 40px 0; }

        /* Placeholder color correction */
        ::placeholder { color: #555; opacity: 1; }

        /* --- FILE INPUT STYLING --- */
        input[type="file"] {
            cursor: pointer;
            padding: 12px;
            background: rgba(255, 51, 51, 0.05) !important;
            border: 2px dashed #ff3333 !important;
            transition: all 0.3s;
        }

        input[type="file"]:hover {
            background: rgba(255, 51, 51, 0.1) !important;
            border-color: #ff0000 !important;
            box-shadow: 0 0 15px rgba(255, 51, 51, 0.3);
        }

        input[type="file"]::-webkit-file-upload-button {
            background: #ff3333;
            color: #000;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 10px;
            border-radius: 4px;
            transition: all 0.3s;
        }

        input[type="file"]::-webkit-file-upload-button:hover {
            background: #ff0000;
            box-shadow: 0 0 10px rgba(255, 51, 51, 0.5);
        }

        small {
            display: block;
            color: #888;
            font-size: 0.85rem;
            margin-top: 5px;
        }

        #imagePreview img {
            border-radius: 8px;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>[+] PAPER LOG GENERATOR</h1>
        <form action="/generate" method="POST" enctype="multipart/form-data">
            
            <div class="row">
                <div class="form-group">
                    <label>LOG ID (e.g., 002)</label>
                    <input type="text" name="log_id" required placeholder="002" autocomplete="off">
                </div>
                <div class="form-group">
                    <label>FILENAME HTML</label>
                    <input type="text" name="filename" required placeholder="002-judul-paper.html" autocomplete="off">
                </div>
            </div>

            <div class="form-group">
                <label>PAPER TITLE</label>
                <input type="text" name="title" required placeholder="Judul Lengkap Paper..." style="font-size: 1.2rem; font-weight: bold;">
            </div>

            <div class="row">
                <div class="form-group">
                    <label>AUTHORS</label>
                    <input type="text" name="authors" required placeholder="Nama Penulis">
                </div>
                <div class="form-group">
                    <label>PUBLICATION (Journal & Year)</label>
                    <input type="text" name="publication" required placeholder="Contoh: ICRA 2024">
                </div>
            </div>

            <div class="form-group">
                <label>TAGS (Pisahkan dengan koma)</label>
                <input type="text" name="tags" placeholder="SLAM, Vision, AI">
            </div>

            <hr>

            <h3>// EXECUTIVE SUMMARY</h3>
            <div class="form-group">
                <label>THE PROBLEM</label>
                <textarea name="summary_problem" required placeholder="Masalah apa yang diselesaikan?"></textarea>
            </div>
            <div class="form-group">
                <label>THE SOLUTION</label>
                <textarea name="summary_solution" required placeholder="Metode apa yang diusulkan?"></textarea>
            </div>
            <div class="form-group">
                <label>THE RESULT</label>
                <textarea name="summary_result" required placeholder="Hasil eksperimennya?"></textarea>
            </div>

            <hr>

            <h3>// ANALYSIS (Pisahkan baris dengan Enter)</h3>
            <div class="row">
                <div class="form-group">
                    <label>STRENGTHS (+)</label>
                    <textarea name="strengths" placeholder="Kelebihan 1&#10;Kelebihan 2..."></textarea>
                </div>
                <div class="form-group">
                    <label>WEAKNESSES (-)</label>
                    <textarea name="weaknesses" placeholder="Kekurangan 1&#10;Kekurangan 2..."></textarea>
                </div>
            </div>

            <hr>

            <h3>// RADAR SCORES (0 - 100)</h3>
            <div class="grid-4">
                <div class="form-group"><label>MATH</label><input type="number" name="score_math" value="50"></div>
                <div class="form-group"><label>CODE</label><input type="number" name="score_code" value="50"></div>
                <div class="form-group"><label>HARDWARE</label><input type="number" name="score_hw" value="50"></div>
                <div class="form-group"><label>NOVELTY</label><input type="number" name="score_novelty" value="50"></div>
            </div>

            <hr>

            <h3>// ASSETS & META</h3>
            <div class="row">
                <div class="form-group"><label>DATASET USED</label><input type="text" name="dataset" placeholder="KITTI, EuRoC..."></div>
                <div class="form-group"><label>CORE METHOD</label><input type="text" name="method_tech" placeholder="Kalman Filter, CNN..."></div>
            </div>
            <div class="form-group">
                <label>VIDEO ID (YouTube)</label>
                <input type="text" name="video_id" placeholder="Contoh: dQw4w9WgXcQ">
            </div>

            <hr>

            <h3>// FILE UPLOADS</h3>
            <div class="form-group">
                <label>UPLOAD IMAGE (otomatis diberi nama: {log_id}-arch.png/jpg)</label>
                <input type="file" name="image_upload" accept="image/*" onchange="previewImage(event)" style="background: rgba(255,255,255,0.05); border: 1px dashed #ff3333; padding: 10px;">
                <small style="color: #888; display: block; margin-top: 5px;">Atau isi manual di bawah jika file sudah ada</small>
                <input type="text" name="image_file" placeholder="Manual: 002-arch.png (opsional)" style="margin-top: 10px;">
                <div id="imagePreview" style="margin-top: 10px; max-width: 300px;"></div>
            </div>
            
            <div class="form-group">
                <label>IMAGE CAPTION</label>
                <input type="text" name="image_caption" placeholder="Figure 1: System Overview">
            </div>

            <div class="form-group">
                <label>UPLOAD PDF (otomatis diberi nama: {log_id}-annotated.pdf)</label>
                <input type="file" name="pdf_upload" accept=".pdf" onchange="showPdfName(event)" style="background: rgba(255,255,255,0.05); border: 1px dashed #ff3333; padding: 10px;">
                <small style="color: #888; display: block; margin-top: 5px;">Atau isi manual di bawah jika file sudah ada</small>
                <input type="text" name="pdf_file" placeholder="Manual: 002-annotated.pdf (opsional)" style="margin-top: 10px;">
                <div id="pdfInfo" style="margin-top: 10px; color: #0f0;"></div>
            </div>
            <div class="form-group">
                <label>BIBTEX CODE</label>
                <textarea name="bibtex" style="font-family: monospace; font-size: 0.9rem;" placeholder="@article{...}"></textarea>
            </div>

            <button type="submit">INITIATE BUILD SEQUENCE</button>
        </form>
    </div>

    <script>
        // Fire Particle Animation
        const canvas = document.createElement('canvas');
        canvas.style.position = 'fixed';
        canvas.style.top = '0';
        canvas.style.left = '0';
        canvas.style.width = '100%';
        canvas.style.height = '100%';
        canvas.style.zIndex = '-2';
        canvas.style.pointerEvents = 'none';
        canvas.style.opacity = '0.4';
        canvas.style.mixBlendMode = 'screen';
        document.body.insertBefore(canvas, document.body.firstChild);

        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        class FireParticle {
            constructor() {
                this.reset();
            }

            reset() {
                this.x = Math.random() * canvas.width;
                this.y = canvas.height + Math.random() * 100;
                this.size = Math.random() * 3 + 1;
                this.speedY = Math.random() * 3 + 1;
                this.speedX = (Math.random() - 0.5) * 2;
                this.opacity = Math.random() * 0.5 + 0.5;
                const colorVariant = Math.floor(Math.random() * 3);
                if (colorVariant === 0) {
                    this.color = `rgba(255, 50, 0, ${this.opacity})`;
                } else if (colorVariant === 1) {
                    this.color = `rgba(255, 100, 0, ${this.opacity})`;
                } else {
                    this.color = `rgba(255, 0, 0, ${this.opacity})`;
                }
            }

            update() {
                this.y -= this.speedY;
                this.x += this.speedX;
                this.opacity -= 0.003;
                this.size *= 0.99;

                if (this.y < -10 || this.opacity <= 0 || this.size < 0.5) {
                    this.reset();
                }
            }

            draw() {
                ctx.fillStyle = this.color;
                ctx.globalAlpha = this.opacity;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.shadowBlur = 15;
                ctx.shadowColor = this.color;
            }
        }

        const particles = [];
        const particleCount = 150;
        for (let i = 0; i < particleCount; i++) {
            particles.push(new FireParticle());
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });
            requestAnimationFrame(animate);
        }

        animate();

        // Image Preview Function
        function previewImage(event) {
            const file = event.target.files[0];
            const preview = document.getElementById('imagePreview');
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.innerHTML = `
                        <img src="${e.target.result}" style="max-width: 100%; border: 2px solid #ff3333; box-shadow: 0 0 20px rgba(255,51,51,0.5);">
                        <p style="color: #0f0; margin-top: 10px; font-size: 0.9rem;">
                            ✓ File: ${file.name} (${(file.size / 1024).toFixed(2)} KB)
                        </p>
                    `;
                }
                reader.readAsDataURL(file);
            } else {
                preview.innerHTML = '';
            }
        }

        // PDF Info Function
        function showPdfName(event) {
            const file = event.target.files[0];
            const info = document.getElementById('pdfInfo');
            
            if (file) {
                info.innerHTML = `✓ PDF Selected: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
            } else {
                info.innerHTML = '';
            }
        }
    </script>
</body>
</html>